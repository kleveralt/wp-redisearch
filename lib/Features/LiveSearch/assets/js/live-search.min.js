(function(a){a(document).ready(function(){(function(a){a.forEach(a=>{function b(a){return!!a&&void(c(a),f>=a.length&&(f=0),0>f&&(f=a.length-1),a[f].classList.add("autocomplete-active"))}function c(a){for(var b=0;b<a.length;b++)a[b].classList.remove("autocomplete-active")}function d(b){for(var c=document.getElementsByClassName("autocomplete-items"),d=0;d<c.length;d++)b!=c[d]&&b!=a&&c[d].parentNode.removeChild(c[d])}function e(c,e){jQuery.ajax({data:{action:"wp_redisearch_get_suggestion",term:c},type:"post",url:wpRds.ajaxUrl,success:function(f){let g,h=JSON.parse(f);for(let b=0;b<h.length;b+=2)g=document.createElement("DIV"),g.innerHTML="<strong>"+h[b].substr(0,c.length)+"</strong>",g.innerHTML+=h[b].substr(c.length),g.innerHTML+="<input type='hidden' value='"+h[b]+"'>",g.addEventListener("click",function(){a.value=this.getElementsByTagName("input")[0].value,a.parentNode.submit(),d()}),e.appendChild(g)}})}a.setAttribute("autocomplete","off");var f;a.addEventListener("input",function(){var b,c=this.value;return d(),!!c&&void(f=-1,b=document.createElement("DIV"),b.setAttribute("id",this.id+"autocomplete-list"),b.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(b),e(c,b))}),a.addEventListener("keydown",function(a){var c=document.getElementById(this.id+"autocomplete-list");c&&(c=c.getElementsByTagName("div")),40==a.keyCode?(f++,b(c)):38==a.keyCode?(f--,b(c)):13==a.keyCode&&-1<f&&c&&c[f].click()}),document.addEventListener("click",function(a){d(a.target)})})})(document.querySelectorAll("[name=\"s\"]"))})})(jQuery);
